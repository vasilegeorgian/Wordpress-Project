'use strict';((n,b)=>{let T=!1;const y=n.isTouch?window.PointerEvent?"pointerdown":"touchstart":"click",P=/iPhone|iPad|iPod|Mac OS/i.test(window.navigator.userAgent),E=a=>{a=Infinity===a?0:a;a=(new Date(1E3*a)).toISOString().substr(11,8).split(":");"00"===a[0]&&a.splice(0,1);return a.join(":")},U=a=>{try{if(a.requestFullscreen)return a.requestFullscreen();if(a.webkitEnterFullscreen)return a.webkitEnterFullscreen();if(a.webkitrequestFullscreen)return a.webkitRequestFullscreen();if(a.mozRequestFullscreen)return a.mozRequestFullScreen()}catch(f){return console.error(f),
!1}},V=()=>{try{return b.exitFullscreen?b.exitFullscreen():b.webkitExitFullscreen||b.webkitExitFullscreen?b.webkitExitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.msExitFullscreen?b.msExitFullscreen():!1}catch(a){return console.error(a),!1}},W=a=>b.exitFullscreen?"":b.webkitExitFullscreen||a.webkitSupportsFullscreen?"webkit":b.mozCancelFullScreen?"moz":b.msExitFullscreen?"ms":!1,Q=a=>{const f=W(a);return!1===f?!1:a.hasOwnProperty("webkitDisplayingFullscreen")?a.webkitDisplayingFullscreen:
""===f?b.fullscreenElement:b[f+"FullscreenElement"]},w=(a,f)=>{const e=b.createElementNS("http://www.w3.org/2000/svg","use"),d=b.createElementNS("http://www.w3.org/2000/svg","svg");a="tf-"+a;d.setAttribute("class","tf_fa "+(f?a+" "+f:a));e.setAttributeNS(null,"href","#"+a);d.appendChild(e);return d},X=a=>{a="tf_video_"+a+"=";for(let f=b.cookie.split(";"),e=f.length-1;-1<e;--e){let d=f[e];for(;" "===d[0];)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null},
Y=(a,f,e)=>{var d="";a="tf_video_"+a;e&&(d=new Date,d.setTime(d.getTime()+864E5*e),d=";expires="+d.toUTCString());b.cookie=a+"="+(f||"")+d+"; path=/"},ca=a=>{const f=b.createDocumentFragment();var e=W(a);const d=n.hash(a.currentSrc.split(".").slice(0,-1).join("."));var k=X("vol_"+d)||-1;const l=b.createElement("div"),m=a.parentNode,r=b.createElement("div"),G=b.createElement("div"),B=b.createElement("div"),t=b.createElement("div"),g=b.createElement("div"),p=b.createElement("div"),F=b.createElement("div"),
R=b.createElement("div"),L=b.createElement("div"),M=b.createElement("div"),x=b.createElement("button"),H=b.createElement("button"),D=b.createElement("button"),I=b.createElement("button"),J=b.createElement("button"),z=b.createElement("input"),A=b.createElement("input"),Z=!1===P||"mobile"!==n.device,aa=function(){try{a.webkitSupportsPresentationMode?a.webkitSetPresentationMode("picture-in-picture"===a.webkitPresentationMode?"inline":"picture-in-picture"):(Q(a)&&V(),a!==b.pictureInPictureElement?a.requestPictureInPicture():
b.exitPictureInPicture())}catch(c){console.error(c)}};let S=!1,N=!1,O=!0;l.className="tf_video_wrap tf_w tf_mw tf_box";R.className="tf_play_wrap";F.className="tf_video_controls";r.className="tf_video_progress_wrap tf_rel tf_textl";G.className="tf_video_progress_loaded tf_w tf_h tf_abs";B.className="tf_video_progress_current tf_w tf_h tf_abs";z.className="tf_video_progress_range tf_h tf_abs";z.value=0;z.type="range";z.min=0;z.max=100;H.className="tf_video_play";H.appendChild(w("fas-undo-alt","tf_hide"));
-1!==k&&(k?a.volume=k:a.muted=0);x.type=H.type=D.type=I.type=J.type="button";I.className="tf_video_seek tf_video_seek_left tf_abs";J.className="tf_video_seek tf_video_seek_right tf_abs";L.className="tf_video_current_time";M.className="tf_video_total_time";t.className="tf_video_hover tf_abs tf_hide tf_box tf_textc";D.className="tf_video_fullscreen";L.textContent=E(a.currentTime);M.textContent=E(a.duration);l.addEventListener(y,c=>{c.stopPropagation()},{passive:!0});H.addEventListener(y,function(c){c.stopPropagation();
a.paused||!1===S?(!1===S&&(S=!0,"desktop"!==n.device&&(a.muted=!0)),a.play()):a.pause()},{passive:!0});if(!n.isTouch)r.addEventListener("mouseenter",function(c){if(!isNaN(a.duration)){t.classList.remove("tf_hide");const h=this.clientWidth,u=parseFloat(t.clientWidth/2),K=a.duration,q=function(v){v=void 0!==v.layerX?v.layerX:v.offsetX;0<v-u&&v<=h&&(t.style.transform="translateX("+(v-u)+"px)",!1===N&&(t.textContent=E(parseFloat(v/h)*K)))};this.addEventListener("mouseleave",function(){t.classList.add("tf_hide");
this.removeEventListener("mousemove",q,{passive:!0})},{passive:!0,once:!0});this.addEventListener("mousemove",q,{passive:!0})}},{passive:!0});else if(!0===P){var C=window.navigator.userAgent;13.5>parseFloat(C.substr(C.indexOf("OS ")+3,4).replace("_","."))&&(C=function(c){var h="touchstart"===c.type?c.touches[0]?c.touches[0]:c.changedTouches[0]:c;c=this.getElementsByTagName("input")[0];const u=this.getBoundingClientRect();h=c.classList.contains("tf_video_volumn_range")?(h.clientY-u.top)/u.height:(h.clientX-
u.left)/u.width;c.value=parseInt(100*h);n.triggerEvent(c,"input");n.triggerEvent(c,"change")},r.addEventListener(y,C,{passive:!0}),!0===Z&&p.addEventListener(y,C,{passive:!0}))}z.addEventListener("input",function(c){c.preventDefault();isNaN(a.duration)||(a.paused||!0!==O||a.pause(),N=!0,c=parseInt(this.value),c=100===c?a.duration-1:parseFloat(c*a.duration/100).toFixed(4),a.currentTime=c,n.isTouch||(t.textContent=E(c)))});z.addEventListener("change",function(c){c.preventDefault();isNaN(a.duration)||
(N=O=!1,a.paused&&a.play().then(h=>{O=!0}).catch(h=>{O=!0}))});a.addEventListener("progress",function(){0<this.buffered.length&&(G.style.transform="scaleX("+parseFloat(this.buffered.end(0)/this.duration).toFixed(4)+")")},{passive:!0});a.addEventListener("durationchange",function(){M.textContent=E(this.duration)},{passive:!0});a.addEventListener("timeupdate",function(){if(!isNaN(this.duration)){L.textContent=E(this.currentTime);const c=parseFloat(this.currentTime/a.duration);B.style.transform="scaleX("+
c.toFixed(4)+")";!1===N&&(z.value=parseInt(100*c));Y(d,this.currentTime,30)}},{passive:!0});if(!1!==e){let c=!1,h=!1;const u=()=>{K(!0);h&&clearTimeout(h);h=setTimeout(K,3E3)},K=q=>{!0===c||!0===q?(c=!1,parentCl.remove("tf_hide_controls")):(c=!0,parentCl.add("tf_hide_controls"))};C=function(q){const v=q.touches?q.touches[0].target:q.target;if("dblclick"!==q.type||v&&!v.closest(".tf_video_wrap"))q.preventDefault(),Q(a)?V(a):(q=()=>{U(m)||U(a)},b.pictureInPictureElement||"picture-in-picture"===a.webkitPresentationMode?
(aa(),setTimeout(q,80)):q())};D.addEventListener(y,C);n.isTouch||m.addEventListener("dblclick",C);m.addEventListener(e+"fullscreenchange",function(q){Q(a)?(parentCl.add("tf_is_fullscreen"),m.addEventListener("mousemove",u,{passive:!0}),a.addEventListener("pause",u,{passive:!0}),h&&clearTimeout(h),h=setTimeout(K,3E3)):(parentCl.remove("tf_is_fullscreen","tf_hide_controls"),h&&clearTimeout(h),a.removeEventListener("pause",u,{passive:!0}),m.removeEventListener("mousemove",u,{passive:!0}))},{passive:!0})}else D.className+=
" tf_fullscreen_disabled tf_play_disabled";D.appendChild(w("fas-expand"));r.appendChild(G);r.appendChild(z);r.appendChild(B);r.appendChild(t);a.hasAttribute("data-download")&&(e=b.createElement("a"),e.setAttribute("download",""),e.href=a.src,e.className="tf_video_download",e.appendChild(w("fas-download")),F.appendChild(e));!0===Z&&(A.addEventListener("input",function(c){c.preventDefault();c=parseFloat(this.value/100).toFixed(3);a.volume=c;a.muted=0<c?!1:!0}),a.addEventListener("volumechange",function(){!0===
this.muted||0===this.volume?x.classList.add("tf_muted"):x.classList.remove("tf_muted");Y("vol_"+d,this.volume,120)},{passive:!0}),x.addEventListener(y,()=>{a.muted=!a.muted;a.muted||0!==a.volume||(A.value=50,n.triggerEvent(A,"input"))},{passive:!0}),x.appendChild(w("fas-volume-up","tf_abs_t")),x.appendChild(w("fas-volume-mute","tf_abs_t tf_h")),g.appendChild(x),A.min=0,A.max=100,A.type="range",A.value=-1<k?100*k:50,p.className="tf_video_volumn_inner",A.className="tf_video_volumn_range tf_h tf_overflow",
g.className="tf_video_volumn_wrap tf_rel",x.className="tf_video_mute tf_rel tf_overflow",a.muted&&(x.className+=" tf_muted"),p.appendChild(A),g.appendChild(p),F.appendChild(g));!a.hasAttribute("disablePictureInPicture")&&b.pictureInPictureEnabled&&(k=b.createElement("button"),k.addEventListener(y,aa,{passive:!0}),k.className="tf_video_pip",a.addEventListener("enterpictureinpicture",()=>{parentCl.add("tf_is_pip")},{passive:!0}),a.addEventListener("leavepictureinpicture",()=>{parentCl.remove("tf_is_pip")},
{passive:!0}),k.appendChild(w("fas-external-link-alt")),F.appendChild(k));F.appendChild(D);R.appendChild(H);l.appendChild(R);l.appendChild(L);l.appendChild(r);l.appendChild(M);l.appendChild(F);J.innerHTML=I.innerHTML='<span class="tf_abs_c">15</span>';J.appendChild(w("fas-redo-alt","tf_abs_c"));I.appendChild(w("fas-undo-alt","tf_abs_c"));f.appendChild(I);f.appendChild(J);f.appendChild(l);return f},ba=a=>{const f=b.createDocumentFragment(),e=a.parentNode,d=b.createElement("div"),k=parseFloat(X(n.hash(a.currentSrc.split(".").slice(0,
-1).join("."))))||0,l=b.createElement("button"),m=e.classList,r=function(g){m.add("tf_video_waiting");this.addEventListener("seeking"===g.type?"seeked":"playing",()=>{m.remove("tf_video_waiting")},{passive:!0,once:!0})},G=()=>{m.add("tf_video_touched");m.remove("tf_hide_controls");t&&clearTimeout(t);t=setTimeout(()=>{m.remove("tf_video_touched")},2500)};let B=!1,t;d.className="tf_loader tf_abs_c";l.className="tf_video_play tf_big_video_play tf_abs_c";l.appendChild(w("fas-undo-alt","tf_hide"));e.tabIndex=
0;l.type="button";e.addEventListener(y,function(g){const p=g.target.closest(".tf_video_seek");g.stopImmediatePropagation();a.paused||!1===B||!n.isTouch||!p&&this.classList.contains("tf_video_touched")?(this.classList.remove("tf_video_touched"),a.paused||!1===B?(!1===B&&(B=!0,"desktop"!==n.device&&(a.muted=!0)),a.play()):a.pause()):(G(),p&&(a.currentTime+=p.classList.contains("tf_video_seek_left")?-15:15))},{passive:!0});a.addEventListener("seeking",r,{passive:!0});a.addEventListener("waiting",r,{passive:!0});
a.addEventListener("emptied",r,{passive:!0});a.addEventListener("pause",function(){m.remove("tf_video_is_playing")},{passive:!0});a.addEventListener("play",function(){m.add("tf_video_is_playing");for(let g=b.getElementsByTagName("video"),p=g.length-1;-1<p;--p)g[p]===this||g[p].paused||!0===g[p].muted||g[p].pause()},{passive:!0});a.addEventListener("playing",function(){m.remove("tf_video_ended")},{passive:!0});a.addEventListener("ended",function(){m.add("tf_video_ended")},{passive:!0});a.hasAttribute("data-hide-controls")||
f.appendChild(ca(a));f.appendChild(l);f.appendChild(d);e.appendChild(f);window.WebKitPlaybackTargetAvailabilityEvent&&!a.hasAttribute("data-hide-controls")&&a.addEventListener("webkitplaybacktargetavailabilitychanged",g=>{"available"===g.availability&&(g=b.createElement("button"),g.className="tf_video_airplay",g.addEventListener(y,()=>{a.webkitShowPlaybackTargetPicker()},{passive:!0}),g.appendChild(w("fas-airplay")),e.querySelector(".tf_video_fullscreen").before(g))},{passive:!0,once:!0});0<k&&k<
a.duration&&(a.currentTime=k);a.autoplay&&m.add("tf_video_is_playing");a.setAttribute("webkit-playsinline","1");a.setAttribute("playsinline","1");a.removeAttribute("controls");m.remove("tf_lazy")},da=(a,f)=>{for(let e=a.length-1;-1<e;--e){let d=a[e],k=d.parentNode;if(!k.classList.contains("tf_video_lazy")){let l=b.createElement("div");l.className="tf_video_lazy tf_w tf_h tf_box tf_rel tf_overflow tf_lazy";l.appendChild(d);k.appendChild(l)}4===d.readyState?ba(d,f):n.requestIdleCallback(()=>{d.addEventListener("loadedmetadata",
function(){ba(this)},{passive:!0,once:!0});d.setAttribute("preload","metadata");!0===P&&d.load()},200)}};n.on("tf_video_init",a=>{!1===T&&(T=!0,n.fontAwesome("tf-fas-volume-mute tf-fas-volume-up tf-fas-undo-alt tf-fas-redo-alt tf-fas-external-link-alt tf-fas-airplay tf-far-closed-captioning tf-fas-expand".split(" ")));a instanceof jQuery?a=a.get():void 0===a.length&&(a=[a]);da(a)})})(Themify,document);
