'use strict';jQuery(function(a){var n=function(h,c,b){var d=document.createElement("script");d.type="text/javascript";d.readyState?d.onreadystatechange=function(){if("loaded"==d.readyState||"complete"==d.readyState)d.onreadystatechange=null,b()}:d.onload=function(){b()};var f="type src htmlFor event charset async defer crossOrigin text onerror".split(" ");if("object"==typeof c&&!a.isEmptyObject(c))for(var e in c)c.hasOwnProperty(e)&&a.inArray(e,f)&&(d[e]=c[e]);d.src=h;document.getElementsByTagName(c.lazyLoad?
"body":"head")[0].appendChild(d)};a.loadScript=function(h,c,b){2===arguments.length&&"function"==typeof arguments[1]&&(b=arguments[1],c={});c=c||{};var d=a.Deferred();return"function"==typeof b&&d.done(function(){b()}),n(h,c,function(){d.resolve()}),d.promise()}});
window.Themify_Metabox=function(a){function n(c){let b="";a('input[type="checkbox"]',c).each(function(){b+=a(this).attr("id")+"="+a(this).val()+"&"});a('input[type="text"]',c).val(b.slice(0,-1))}var h={loadScript:function(c,b,d){d?b():a.loadScript(c).done(function(){b()})},init:function(){this.bind_events()},bind_events:function(){a(h.document_ready)},document_ready:function(){h.init_metabox_tabs();h.gallery_shortcode();h.repeater();h.enable_toggle();h.query_category();h.post_meta_checkbox();h.init_fields(a("body"));
h.pagination(a("body"));h.audioRemoveAction();h.builder_page()},init_metabox_tabs:function(){a(".themify-meta-box-tabs").each(function(){var b=a(this),d=a(".ilc-htabs li",b);1<d.length?ThemifyTabs({ilctabs:"#"+b.attr("id")}):(a(".ilc-tab",b).show(),d.addClass("select"))});a("#themify-meta-boxes .ilc-htabs a").on("click",function(){h.set_cookie("themify-builder-tabs",a(this).attr("id"))});let c=document.querySelector("#themify-meta-boxes .default_active");c?c.click():"undefined"!=typeof h.get_cookie("themify-builder-tabs")&&
null!==h.get_cookie("themify-builder-tabs")&&a("#"+h.get_cookie("themify-builder-tabs")).trigger("click")},init_fields:function(c){h.layout(c);h.color_picker(c);c.find(".themifyDatePicker").length&&h.loadScript(TF_Metabox.includes_url+"js/jquery/ui/datepicker.min.js",function(){h.loadScript(TF_Metabox.includes_url+"js/jquery/ui/slider.min.js",function(){h.loadScript(TF_Metabox.url+"js/jquery-ui-timepicker.min.js",function(){h.date_picker(c)},"undefined"!==typeof a.ui.timepicker)},"undefined"!==typeof a.fn.slider)},
"undefined"!==typeof a.fn.datepicker);h.assignments(c);h.dropdownbutton(c);h.togglegroup(c);a(document).triggerHandler("themify_metabox_init_fields",[h])},repeater:function(){a("body").on("click",".themify-repeater-add",function(c){c.preventDefault();var b=a(this).closest(".themify_field_row");c=b.find(".themify-repeater-rows");b=b.find(".themify-repeater-template").html();var d=1;c.find("> div").length&&(c.find("> div").each(function(){d=Math.max(d,a(this).data("id"))}),++d);b=a(b.replace(/__i__/g,
d));b.find(".ajaxnonceplu").attr("id","");c.append(b);b.has(".plupload-upload-uic").length&&b.find(".plupload-upload-uic").each(function(){themify_create_pluploader(a(this))});h.init_fields(c.find(".themify-repeater-row:last-child"))}).on("click",".themify-repeater-remove-row",function(c){c.preventDefault();a(this).parent().remove()})},audioRemoveAction:function(){a("body").on("click","[data-audio-remove] a",function(c){c.preventDefault();var b=a(this).parent();c=b.data("audio-remove");var d=function(){b.parent().find(".themify_upload_field").val("");
b.addClass("hide")};d();c.action="themify_remove_audio";a.post(ajaxurl,c,d)})},color_picker:function(c){"function"===typeof a.fn.tfminicolors&&(c.find(".colorSelectInput").each(function(){var b={},d=a(this).data("format");"rgba"==d?(b.format="rgb",b.opacity=!0):"rgb"==d&&(b.format="rgb");a(this).tfminicolors(b)}),c.find(".clearColor").on("click",function(){a(this).parent().find(".colorSelectInput").tfminicolors("value","");a(this).parent().find(".colorSelectInput").val("")}))},date_picker:function(c){c.find(".themifyDatePicker").each(function(){var b=
a(this),d=b.data("label"),f=b.data("close"),e=b.data("dateformat"),g=b.data("timeformat"),l=b.data("timeseparator");a.fn.datetimepicker.call(b,{showOn:"both",showButtonPanel:!0,closeButton:f,buttonText:d,dateFormat:e,timeFormat:g,stepMinute:5,firstDay:b.data("first-day"),separator:l,onClose:function(k){""!=k&&a("#"+b.data("clear")).addClass("themifyFadeIn")},beforeShow:function(){a("#ui-datepicker-div").addClass("themifyDateTimePickerPanel")}});b.next().addClass("button")});c.find(".themifyClearDate").on("click",
function(b){b.preventDefault();b=a(this);a("#"+b.data("picker")).val("").trigger("change");b.removeClass("themifyFadeIn")})},assignments:function(c){c.find(".themify-assignments, .themify-assignment-inner-tabs").tabs();c.on("change",'.themify-assignments input[type="checkbox"]',function(){var b=a(this);b.is(":checked")?b.closest(".themify-assignments").find(".values").append('<input type="hidden" name="'+b.attr("data-name")+'" value="on" />'):b.closest(".themify-assignments").find('.values input[type="hidden"][name="'+
b.attr("data-name")+'"]').remove()})},layout:function(c){c.find(".preview-icon").each(function(){var b=a(this),d=b.parent(),f=d.find(".val"),e="",g="";if(0<b.closest(".group-hide").length){g="theme-settings";var l=b.closest(".group-hide");e=l.data("hide")}else 0<b.closest(".themify_field_row").length&&(g="custom-panel",l=b.closest(".themify_field_row"),"undefined"!==typeof l.data("hide")&&(e=l.data("hide")));b.on("click",function(m){m.preventDefault();d.find(".selected").removeClass("selected");b.addClass("selected");
f.val(b.find("img").attr("alt")).trigger("change");""!==e&&("custom-panel"==g?(m=l.nextUntil("[data-hide]"),m.add(m.find(".themify_field .hide-if")).not(".toggled-off").filter("."+e.replace(/\s/g,",.")).show().filter("."+f.val()).hide()):"theme-settings"==g&&l.find(".hide-if").filter("."+e.replace(/\s/g,",.")).show().filter("."+f.val()).hide())});if(""!==e)if("custom-panel"==g){var k=l.nextUntil("[data-hide]");k.add(k.find(".themify_field .hide-if")).not(".toggled-off").filter("."+e.replace(/\s/g,
",.")).filter("."+f.val()).hide()}else"theme-settings"==g&&l.find(".hide-if").filter("."+e.replace(/\s/g,",.")).show().filter("."+f.val()).hide()});c.find(".themify_field .preview-icon").on("click",function(b){b.preventDefault();a(this).parent().find(".selected").removeClass("selected");a(this).addClass("selected");a(this).parent().find(".val").val(a(this).find("img").attr("alt")).trigger("change")});c.find(".themify_field_row[data-hide]").each(function(){var b=a(this).data("hide");if("string"===
typeof b&&(b=b.split(" "),1<b.length)){var d=b.shift();d=d.split("|");var f=a("."+b.join(", ."));a("select, input",this).on("change",function(){var e=a(this).val();!d.includes(e)&&f.is(":visible")||f.toggle(!d.includes(e))}).trigger("change")}})},dropdownbutton:function(c){c.find(".dropdownbutton-group").each(function(){var b=a(this);b.on("mouseenter mouseleave",".dropdownbutton-list",function(f){f.preventDefault();var e=a(this);if(e.hasClass("disabled"))return!1;"mouseenter"===f.type?e.children(".dropdownbutton").is(":visible")||
e.children(".dropdownbutton").show():"mouseleave"===f.type&&e.children(".dropdownbutton").is(":visible")&&e.children(".dropdownbutton").hide()}).on("click",".first-ddbtn a",function(f){f.preventDefault()}).on("click",".ddbtn a",function(f){f.preventDefault();var e=a(this).find("img").attr("src"),g=a(this).data("val");f=a(this).closest(".dropdownbutton-list");var l=f.attr("id");a(this).closest(".dropdownbutton-list").find(".first-ddbtn img").attr("src",e);a(this).closest(".dropdownbutton").hide();
a("input#"+l).val(g);f.next().hasClass("ddbtn-all")&&(b.hasClass("multi-ddbtn")?(e=a(".multi-ddbtn-sub",b.parent().parent()),g=a(".multi-ddbtn-sub + input",b.parent().parent())):(g=f.next(),e=g.prev().siblings(".dropdownbutton-list"),g=g.siblings("input")),"yes"==f.next().val()?(e.addClass("disabled opacity-5"),e.each(function(){var k=a(this).data("def-icon");a(this).find(".first-ddbtn img").attr("src",k)}),g.val("")):e.removeClass("disabled opacity-5"))});var d=b.find("input.ddbtn-all");"yes"===
d.val()&&(b.hasClass("multi-ddbtn")?a(".multi-ddbtn-sub",b.parent().parent()).addClass("disabled opacity-5"):d.prev().siblings(".dropdownbutton-list").addClass("disabled opacity-5"))})},togglegroup:function(c){c.find(".themify_toggle_group_wrapper").each(function(){var b=a(this);b.find(".themify_toggle_group_inner").hide();b.on("click",".themify_toggle_group_label",function(d){var f=a(this),e=f.find("i");f=f.next();f.hasClass("is-activated")?(e.removeClass("ti-minus").addClass("tf_plus_icon"),f.hide().removeClass("is-activated")):
(f.show().addClass("is-activated"),e.removeClass("tf_plus_icon").addClass("ti-minus"));d.preventDefault()})})},gallery_shortcode:function(){var c=wp.media.gallery.shortcode,b=wp.media.gallery,d;a("body").on("click",".themify-gallery-shortcode-btn",function(f){var e=a(this).closest(".themify_field").find(".themify-gallery-shortcode-input");e.html()&&(e.val(e.html()),e.html(""),e.text(""));d?d.open():d=0<a.trim(e.val()).length?b.edit(a.trim(e.val())):wp.media.frames.file_frame=wp.media({frame:"post",
state:"gallery-edit",title:wp.media.view.l10n.editGalleryTitle,editing:!0,multiple:!0,selection:!1});wp.media.gallery.shortcode=function(g){var l=g.props.toJSON(),k=_.pick(l,"orderby","order");g.gallery&&_.extend(k,g.gallery.toJSON());k.ids=g.pluck("id");l.uploadedTo&&(k.id=l.uploadedTo);k._orderbyRandom&&(k.orderby="rand");delete k._orderbyRandom;k.ids&&"post__in"===k.orderby&&delete k.orderby;_.each(wp.media.gallery.defaults,function(m,p){m===k[p]&&delete k[p]});g=new wp.shortcode({tag:"gallery",
attrs:k,type:"single"});e.val(g.string());wp.media.gallery.shortcode=c;return g};d.on("update",function(g){g=wp.media.gallery.shortcode(g).string().slice(1,-1);e.val("["+g+"]")});0==a.trim(e.val()).length&&a(".media-menu").find(".media-menu-item").last().trigger("click");f.preventDefault()})},set_cookie:function(c,b){document.cookie=c+"="+b+"; path=/"},get_cookie:function(c){c+="=";let b=document.cookie.split(";");for(var d=0,f=b.length;d<f;++d){let e=b[d];for(;" "==e.charAt(0);)e=e.substring(1,e.length);
if(0==e.indexOf(c))return e.substring(c.length,e.length)}return null},enable_toggle:function(){var c=a(".enable_toggle");0<c.length&&c.each(function(){var b=a(this).closest(".themify_write_panel");b.length||(b=a(this).closest("form"));a(".themify-toggle",b).hide().addClass("toggled-off")});a(".enable_toggle .preview-icon").on("click",function(b){var d=a(this).find("img").attr("alt");d=""!=a.trim(d)?"."+d+"-toggle":".default-toggle";a(this).closest(".inside").find(".themify-toggle").hide().addClass("toggled-off");
a(this).closest(".inside").find(d).show().removeClass("toggled-off");b.preventDefault()});a(".enable_toggle .preview-icon.selected").each(function(){var b=a(this).find("img").attr("alt");a(""!=b&&"default"!=b?"."+b+"-toggle":".default-toggle").show().removeClass("toggled-off")});a(".enable_toggle input[type=radio]").on("click",function(){var b=a(this).val();b=0!=b&&""!=b?"."+b+"-toggle":".default-toggle";a(this).siblings("input[type=radio]").each(function(){var d=a(this).val();0!=d&&""!==d&&a("."+
d+"-toggle").hide().addClass("toggled-off")});a(b).each(function(){a(this).show().removeClass("toggled-off");a(this).hasClass("enable_toggle_child")&&a(this).find("input[type=radio]:checked").siblings("input[type=radio]").each(function(){var d=a(this).val();setTimeout(function(){0!=d&&""!==d&&a("."+d+"-toggle").hide().addClass("toggled-off")},500)})})});c.each(function(){var b=a(this).find('input[type="radio"]:checked').val();a(0!=b&&""!==b?"."+b+"-toggle":".default-toggle").each(function(){a(this).show().removeClass("toggled-off");
a(this).hasClass("enable_toggle_child")&&a(this).find("input[type=radio]:checked").siblings("input[type=radio]").each(function(){var d=a(this).val();setTimeout(function(){0!=d&&""!==d&&a("."+d+"-toggle").hide().addClass("toggled-off")},500)})})});a('.enable_toggle input[type="checkbox"]').on("click",function(){var b=a(this).data("val");b=0!=b&&""!=b?"."+b+"-toggle":".default-toggle";a(this).closest(".inside").find(".themify-toggle").hide().addClass("toggled-off");a(this).prop("checked")&&a(this).closest(".inside").find(b).show().removeClass("toggled-off")});
a('.enable_toggle input[type="checkbox"]:checked').each(function(){var b=a(this).data("val");a(0!=b&&""!==b?"."+b+"-toggle":".default-toggle").show().removeClass("toggled-off")})},query_category:function(){function c(f,e){""!=e?f.closest(".inside").find(".themify_field_row").removeClass("query-field-hide"):f.closest(".inside").find(".themify_field_row").not(f.closest(".themify_field_row")).not(".query-field-visible").addClass("query-field-hide")}var b=a(".themify_field"),d=a(".themify-info-link");
b.find(".query_category").on("blur",function(){var f=a(this),e=f.val();a(this).parent().find(".val").val(e);c(f,e)}).on("keyup",function(){var f=a(this),e=f.val();a(this).parent().find(".val").val(e);c(f,e)});b.find(".query_category_single").on("change",function(){var f=a(this),e=f.val();f.parent().find(".query_category, .val").val(e);c(f,e)}).closest(".themify_field_row").addClass("query-field-visible");d.closest(".themify_field_row").addClass("query-field-visible");a(".query_category_single, .query_category").each(function(){var f=
a(this),e=f.val();c(f,e)});d.closest(".themify_field_row").removeClass("query-field-hide")},post_meta_checkbox:function(){a(".post-meta-group").each(function(){var c=a(this);a(".meta-all",c).prop("checked")&&a(".meta-sub",c).prop("disabled",!0).parent().addClass("opacity-7");c.on("click",".meta-all",function(){a(this).prop("checked")?a(".meta-sub",c).prop("disabled",!0).prop("checked",!1).parent().addClass("opacity-7"):a(".meta-sub",c).prop("disabled",!1).parent().removeClass("opacity-7")})});a(".custom-post-meta-group").each(function(){var c=
a(this),b=a('input[type="text"]',c).val(),d={},f=[],e=[];if("yes"===b)a(".meta-all",c).val("yes").prop("checked",!0),a(".meta-sub",c).val("yes").prop("disabled",!0).parent().addClass("opacity-7");else{e=b.split("&");for(b=0;b<e.length;b++)f=e[b].split("="),d[f[0]]=f[1];for(var g in d)"yes"===d[g]&&a("#"+g,c).val("yes").prop("checked",!0);a(".meta-all",c).prop("checked")&&a(".meta-sub",c).prop("disabled",!0).prop("checked",!1).parent().addClass("opacity-7")}c.on("click",".meta-all",function(){var l=
a(this);l.prop("checked")?(a(".meta-sub",c).val("yes").prop("disabled",!0).prop("checked",!1).parent().addClass("opacity-7"),l.val("yes")):(a(".meta-sub",c).val("no").prop("disabled",!1).parent().removeClass("opacity-7"),l.val("no"));n(c)}).on("click",".meta-sub",function(){var l=a(this);l.prop("checked")?l.val("yes"):l.val("no");n(c)})})},pagination:function(c){c.on("click","#themify_assignments_popup_show .themify-popup-visibility-tab",function(b){b.preventDefault();var d=a(this);if(!d.data("active")){b=
d.data("type");var f=d.parents("#themify_assignments_popup_show").find(".themify-assignment-type-options[data-type="+b+"]"),e=a("#popup_show-assignment-tab-pages").data("post-id");a.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_inner_popup_page",type:b,post_id:e},beforeSend:function(){},success:function(g){f.html(g);d.data("active","on")}})}});c.on("click",".themify-assignment-pagination .page-numbers",function(b){b.preventDefault();b=a(this);var d=b.parents(".themify-assignment-options"),
f=b.parents(".themify-assignment-items-inner"),e=a(".themify-assignment-pagination",f),g=parseFloat(a(".themify-assignment-pagination .current",f).text()),l=a(".themify-assignment-items-inner",d),k=1;b.hasClass("next")?k=g+1:b.hasClass("prev")?k=g-1:b.hasClass("page-numbers")&&(k=parseFloat(b.text()));a.ajax({url:ajaxurl,type:"post",data:{action:"themify_create_popup_page_pagination",current_page:k,num_of_pages:f.data("pages")},beforeSend:function(){a(".tb_slider_loader",d).remove();a(".themify-assignment-items-page",
f).addClass("is-hidden");e.hide();l.append('<div class="tb_slider_loader"></div>')},success:function(m){a(".tb_slider_loader",d).remove();a(".themify-assignment-items-page-"+k,f).removeClass("is-hidden");e.html(m).show()}})})},builder_page:function(){const c=document.getElementById("builder_page");if(c){const b=document.querySelector('#page-options [alt="sidebar-none"]').parentNode,d=document.querySelector('#page-options [alt="full_width"]').parentNode,f=b.closest(".themify_field_row"),e=d.closest(".themify_field_row"),
g=document.getElementById("hide_page_title"),l=g.closest(".themify_field_row"),k=[f,e,l];c.addEventListener("change",function(){if(this.checked){b.click();d.click();for(var m=2;-1<m;m--)k[m].style.opacity=.5,k[m].className+=" disabled";g.value="yes"}else for(m=2;-1<m;m--)k[m].style.opacity=1,k[m].classList.remove("disabled")})}}};h.init();return h}(jQuery);
