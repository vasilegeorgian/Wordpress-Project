(($,_,d)=>{'use strict';let u=null;const g=themifyScript.wc_css_url,h=themify_vars.theme_v;d.on('themify_theme_product_single_slider',t=>{const e=t.getElementsByClassName('tf_swiper-container'),c=e[0],m=e[1];setTimeout(()=>{{const e=c.getElementsByClassName('zoom');for(let t=e.length-1;-1<t;--t)e[t].addEventListener('click',function(t){this.hasAttribute('data-zoom-init')||(this.setAttribute('data-zoom-init',!0),d.LoadAsync(themify_vars.theme_url+'/js/modules/wc/zoom.js',()=>{d.jsLazy.theme_product_zoom=!0,d.trigger('themify_theme_product_zoom',[this,t])},h,null,()=>!!d.jsLazy.theme_product_zoom))},{passive:!0})}},800),new Promise((t,e)=>{const s=()=>{!0===d.cssLazy.theme_single_slider_css&&!0===d.cssLazy.theme_swiper_css&&!0===d.jsLazy.tf_tc&&t()};d.cssLazy.theme_swiper_css||d.LoadCss(d.cssUrl+d.css_modules.sw.u,d.css_modules.sw.v,null,null,()=>{d.cssLazy.theme_swiper_css=!0,s()}),d.cssLazy.theme_single_slider_css||d.LoadCss(g+'single/slider.css',h,null,null,()=>{d.cssLazy.theme_single_slider_css=!0,s()}),d.jsLazy.tf_tc||d.on('tf_carousel_init',s,!0).InitCarousel('load'),s()}).then(()=>{if(c.getElementsByClassName('tf_swiper-slide').length<=1){const e=[c,m];for(let t=e.length-1;-1<t;--t)e[t]&&(e[t].classList.add('tf_swiper-container-initialized'),e[t].classList.remove('tf_hidden'),d.lazyScroll(e[t].querySelectorAll('[data-lazy]'),!0));d.trigger('single_slider_loaded')}else d.imagesLoad(m,t=>{d.InitCarousel(t,{direction:'vertical',visible:'auto',height:'auto',wrapvar:!1})}).imagesLoad(c,t=>{d.InitCarousel(t,{slider_nav:!1,pager:!1,wrapvar:!1,height:'auto',thumbs:m,onInit(){const t=this.el.closest('.module-product-image')?this.el.closest('.themify_builder_row'):this.el.closest('.product'),e=null===u?t.getElementsByClassName('variations_form')[0]:null;if(e){const o=this;let a=null;if('object'==typeof wc_additional_variation_images_local)u=!0,$(e).on('wc_additional_variation_images_frontend_image_swap_callback',function(t,e){if(!0===a){const s=_.createElement('div');s.innerHTML=e.main_images,d.LoadAsync(themify_vars.theme_url+'/js/modules/wc/additional_variations_images.js',()=>{d.jsLazy.theme_product_additional_variations=!0,galleryThumbs.destroy(!0,!0),o.destroy(!0,!0),d.trigger('themify_theme_additional_variations_images_init',[s.getElementsByClassName('woocommerce-product-gallery__image'),c,m])},h,null,()=>!!d.jsLazy.theme_product_additional_variations)}}).on('found_variation hide_variation',function(t){'hide_variation'===t.type?!0===a&&$(this).off('hide_variation'):a=!0});else{const r=this.el.getElementsByTagName('img')[0],l=m.getElementsByTagName('img')[0],s=r.cloneNode(!1),i=l.cloneNode(!1),n=r.parentNode.getAttribute('data-zoom-image');$(e).on('found_variation',function(t,e){d.LoadCss(g+'reset-variations.css',h);const s=e.image;if('string'==typeof s.full_src){a=!0;const i=r.closest('.zoom');i&&($(i).trigger('zoom.destroy')[0].removeAttribute('data-zoom-init'),i.setAttribute('data-zoom-image',s.full_src)),r.setAttribute('src',s.src||s.full_src),r.setAttribute('srcset',s.srcset||''),l.setAttribute('src',s.gallery_thumbnail_src),o.slideTo(0,o.params.speed)}}).on('hide_variation',()=>{if(!0===a){r.setAttribute('src',s.hasAttribute('src')?s.getAttribute('src'):''),r.setAttribute('srcset',s.hasAttribute('srcset')?s.getAttribute('srcset'):''),l.setAttribute('src',i.hasAttribute('src')?i.getAttribute('src'):'');const t=r.closest('.zoom');t&&($(t).trigger('zoom.destroy')[0].removeAttribute('data-zoom-init'),t.setAttribute('data-zoom-image',n)),o.slideTo(0,o.params.speed),a=null}})}d.initWC(!0)}d.trigger('single_slider_loaded')}})})})})})(jQuery,document,Themify);