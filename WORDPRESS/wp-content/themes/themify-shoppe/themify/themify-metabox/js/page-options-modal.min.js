!function(n,l,c){'use strict';const t={modal:null,wrap:null,active:!1,url:!1,fr:!1,init(e){this.loader('show'),this.url=('A'===e.tagName?e:e.getElementsByTagName('A')[0]).href;const t=l.createElement('div'),a=l.createElement('div'),n=l.createElement('div'),o=l.createElement('div'),s=l.createElement('div'),i=l.createElement('div');t.id='tf_page_options_modal',t.className='tf_scrollbar',a.className='tf_w tf_h tf_rel',n.className='tf_page_options_toolbar',o.className='tf_page_options_title',o.innerText=c.pg_opt_t,n.appendChild(o),i.className='tf_page_options_save',i.innerText=c.pg_opt_updt,i.addEventListener('click',this.save.bind(this),{passive:!0}),n.appendChild(i),s.className='tf_page_options_close tf_close',s.addEventListener('click',this.close,{once:!0,passive:!0}),n.appendChild(s),a.appendChild(n),t.appendChild(a),this.wrap=a,this.modal=t,l.body.appendChild(t),this.loadIframe()},loadIframe(){const t=this;if(!t.active){const a=l.createElement('iframe');a.src=t.url,a.className='tf_w tf_h',a.onload=function(){t.loader('hide'),t.modal.classList.remove('updating');const e=a.contentDocument.getElementById('post');e.action='post.php?tf-meta-opts=update',a.contentDocument.body.appendChild(e),a.contentDocument.getElementById('wpwrap').remove(),n.body[0].className+=' tf_page_options_active',a.contentWindow.document.documentElement.className+=' tf_scrollbar',t.active=!0},t.fr=a,this.wrap.appendChild(a)}},close(){window.location.reload()},save(){this.modal.className+=' updating',this.loader('show'),this.fr.contentDocument.querySelector('#post').submit()},loader(e){if('show'===e){const t=l.createElement('div');t.id='tb_alert',t.className='tb_busy',l.body.appendChild(t)}else{const a=l.getElementById('tb_alert');a&&a.remove()}}};n.on('tf_page_options_init',function(e){t.init(e)})}(Themify,document,themify_vars);