(u=>{'use strict';const c=ThemifyBuilderModuleJs.cssUrl+'feature_styles/',n={small:100,medium:150,large:200},l=new IntersectionObserver((e,s)=>{for(let t=e.length-1;-1<t;--t)!0===e[t].isIntersecting&&(s.unobserve(e[t].target),(t=>{const e=t.closest('.module-feature');if(e){const s=e.classList,a=(!u.cssLazy.tb_feature_left&&s.contains('layout-icon-left')?(u.cssLazy.tb_feature_left=!0,u.LoadCss(c+'left.css')):!u.cssLazy.tb_feature_right&&s.contains('layout-icon-right')&&(u.cssLazy.tb_feature_right=!0,u.LoadCss(c+'right.css')),t.getElementsByClassName('tb_feature_stroke')[0]),l=a?a.getAttribute('data-progress'):null;if(l){!u.cssLazy.tb_feature_overlay&&s.contains('with-overlay-image')&&(u.cssLazy.tb_feature_overlay=!0,u.LoadCss(c+'overlay.css'));let e=0;if(s.contains('size-custom'))e=parseInt(t.style.width)||0;else for(let t in n)if(s.contains('size-'+t)){e=n[t];break}0===e&&(e=t.offsetWidth),e=parseFloat(e/2)-parseFloat(a.getAttribute('stroke-width')/2),a.setAttribute('stroke-dasharray',parseFloat(2*Math.PI*e*l/100)+',10000')}if(e.hasAttribute('data-layout-mobile')){const r=e.getAttribute('data-layout-mobile'),o=e.getAttribute('data-layout-desktop'),i=function(t){t&&(t.w>tbLocalScript.breakpoints.mobile?(e.classList.remove('layout-'+r),e.classList.add('layout-'+o)):(e.classList.remove('layout-'+o),e.classList.add('layout-'+r)))};i({w:u.w}),u.on('tfsmartresize',i)}}})(e[t].target))},{threshold:.9});u.on('builder_load_module_partial',(t,e,s)=>{let a;if(!0===s){if(!t[0].classList.contains('module-feature'))return;a=[t[0]]}else a=u.selectWithParent('module-feature',t);for(let e=a.length-1;-1<e;--e){let t=a[e].getElementsByClassName('module-feature-chart-html5')[0];t&&l.observe(t)}})})(Themify);