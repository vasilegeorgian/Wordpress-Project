((n,t,s)=>{'use strict';let i=t.documentElement.clientHeight,l=t.body.clientHeight,o=!1,e=null,c=n.h;const r='active-zooming',a=e=>{e&&(i=t.documentElement.clientHeight,l=t.body.clientHeight,c=e.h)},d=()=>{(e=null===e?t.getElementsByClassName('builder-zooming'):e)[0]?m(e):(s.removeEventListener('scroll',d,{passive:!0,capture:!0}),n.off('tfsmartresize',a),e=null,o=!1)},m=t=>{for(let e=t.length-1;-1<e;--e)t[e]&&!t[e].classList.contains(r)&&(e=>{const t=e.getBoundingClientRect();return t.top+e.clientHeight>=(c||i||l)/2&&t.bottom-e.clientHeight<=(c||i||l)/3})(t[e])&&t[e].classList.add(r)};n.LoadCss(ThemifyBuilderModuleJs.cssUrl+'bgzoom.css').on('builder_load_module_partial',(e,t,i)=>{let l;if(!0===i){if(!e[0].classList.contains('builder-zooming'))return;l=[e[0]]}else l=n.selectWithParent('builder-zooming',e);void 0!==l[0]&&(m(l),!1===o&&(o=!0,s.addEventListener('scroll',d,{passive:!0,capture:!0}),n.on('tfsmartresize',a)))})})(Themify,document,window);