(($,m,s)=>{'use strict';const a=ThemifyBuilderModuleJs.cssUrl+'menu_styles/',t=s.createElement('div'),o=m.is_builder_active,l=e=>{m.LoadCss(a+'mobile.css',null,null,null,e)},n=(e,s)=>{const t=e.nextElementSibling.style;t.display='none'===t.display||''===t.display?'block':'none',s.classList.toggle('menu-close')},i=()=>{t.classList.remove('body-overlay-on'),m.body.removeClass('menu-module-left menu-module-right');const e=$('.mobile-menu-module.visible').removeClass('left right');setTimeout(()=>{e.removeClass('visible')},300)},d=(e,l,n)=>{for(let t=l.length-1;-1<t;--t){let e=parseInt(l[t].getAttribute('data-menu-breakpoint'));if(!m.cssLazy.tb_menu_dropdown&&l[t].classList.contains('dropdown')&&(m.cssLazy.tb_menu_dropdown=!0,m.LoadCss(a+'dropdown.css')),!m.cssLazy.tb_menu_transparent||!m.cssLazy.tb_menu_vertical||!m.cssLazy.tb_menu_fullwidth){let s=l[t].getElementsByClassName('nav')[0];if(s){!m.cssLazy.tb_menu_transparent&&s.classList.contains('transparent')&&(m.cssLazy.tb_menu_transparent=!0,m.LoadCss(a+'transparent.css'));let e=s.classList.contains('fullwidth')?'fullwidth':s.classList.contains('vertical')?'vertical':'';e&&!m.cssLazy['tb_menu_'+e]&&(m.cssLazy['tb_menu_'+e]=!0,m.LoadCss(a+e+'.css'),'vertical'==e&&0===l[t].getElementsByClassName('tf_acc_menu').length&&(m.cssLazy.tb_menu_acc=!0,m.LoadCss(a+'accordion.css')))}}0<e&&l[t].classList.toggle('module-menu-mobile-active',n<e),void 0===l[t].getElementsByClassName('tf_acc_menu')[0]&&setTimeout(()=>{m.edgeMenu(l[t])},1500)}if(!o)if(!1===e){let l=$('.menu-module-burger'),e=l.parent().data('menu-breakpoint'),s=l.parent().data('menu-style');'mobile-menu-dropdown'===s&&l.length&&n<e&&m.body.on('click',e=>{const s=$(e.target),t=$('.module-menu-container');!s.closest('.module-menu-container').length&&t.is(':visible')&&!s.closest('.menu-module-burger').length&&l.is(':visible')&&(l.removeClass('is-open'),t.removeClass('is-open'))})}else i()};if(setTimeout(()=>{m.LoadCss(a+'hidden.css')},800),m.on('builder_load_module_partial',(e,s,t)=>{if(!0!==t||e[0].classList.contains('module-menu')){const l=m.selectWithParent('module-menu',e);d(!1,l,m.w)}}),!o){const u=s.createElement('div'),e=s.createElement('link');e.rel='prefetch',e.setAttribute('as','style'),e.href=a+'mobile.css',u.className='themify_builder',t.classList.add('body-overlay'),u.appendChild(t),m.body[0].appendChild(u),m.body[0].appendChild(e),m.body.on('click','.menu-module-burger',function(e){e.preventDefault(),l(()=>{const a=$(this).parent(),o=a.data('menu-style');if('mobile-menu-dropdown'===o)$(this).toggleClass('is-open').siblings('.module-menu-container').toggleClass('is-open');else{const i=a.data('menu-direction'),d=a.data('element-id'),e=u.dataset.id,s=a[0].closest('.themify_builder_content').dataset.postid;e&&s===e||(e&&u.classList.remove('themify_builder_content-'+e),u.dataset.id=s,u.className+=' themify_builder_content-'+s);let n=$('div[data-module="'+d+'"]',u);if(!n.length){let e=a.data('gs'),s=a.find('div[class*="-container"] > ul').clone(),t=s.prop('class').replace(/nav|menu-bar|fullwidth|vertical|with-sub-arrow/g,''),l=a.prop('class').match(/menu-[\d\-]+/g);e=e?' '+e:'',l=l?l[0]:'',(n=$('<div/>')).addClass("mobile-menu-module  "+t+' '+l+' '+d+' '+o+e+' module-menu').attr('data-module',d).attr('data-dir',i).appendTo(u),(s=s.removeAttr('id').removeAttr('class').addClass('nav')).find('ul').length&&s.find('ul').prev('a').append('<i class="toggle-menu"></i>'),m.body.addClass('menu-module-'+i),m.lazyScroll(s[0].querySelectorAll('[data-lazy]'),!0),n.html(s).prepend('<a class="menu-close" href="#"><span class="menu-close-inner tf_close"></span></a>')}n.addClass('visible'),setTimeout(()=>{n.addClass(i)},50),t.classList.add('body-overlay-on')}})}).on('click','.mobile-menu-module ul .toggle-menu',function(e){e.preventDefault(),e.stopPropagation(),l(()=>{n(this.closest('a'),this)})}).on('click','.mobile-menu-module ul a[href="#"]',function(e){e.preventDefault();const s=this.querySelector('.toggle-menu');null!==s&&l(()=>{n(this,s)})}).on('click','.themify_builder .body-overlay,.mobile-menu-module .menu-close,.mobile-menu-module .menu-item a',e=>{const s=e.target;s.classList.contains('toggle-menu')||'A'===s.tagName&&'#'===s.getAttribute('href')||((s.classList.contains('menu-close-inner')||s.parentNode.classList.contains('menu-close'))&&e.preventDefault(),l(i))})}m.on('tfsmartresize',e=>{e&&d(!0,s.querySelectorAll('.module-menu.module'),e.w)})})(jQuery,Themify,document);