((s,d)=>{'use strict';const f='mobile'===s.device,b=t=>({mute:'unmute'!==t.getAttribute('data-mutevideo'),loop:'unloop'!==t.getAttribute('data-unloopvideo')}),v=(t,e,i,o)=>{const l=d.createElement('div'),a=d.createElement('iframe');return l.className='tb_fullwidth_video tf_lazy tb_'+i+' tf_abs tf_w tf_h tf_overflow',a.setAttribute('allowfullscreen',!1),a.setAttribute('webkitallowfullscreen',!1),a.setAttribute('mozallowfullscreen',!1),a.className='tf_mw tf_w tf_h',a.id=t,a.src=encodeURI(e),o&&(a.setAttribute('data-autoplay',!0),a.setAttribute('allow','autoplay')),a.setAttribute('unselectable','on'),l.appendChild(a),l};s.on('builder_load_module_partial',(t,e,i)=>{let a;if(!0===i){if(!t[0].hasAttribute('data-tbfullwidthvideo'))return;a=[t[0]]}else a=s.selectWithParent('[data-tbfullwidthvideo]',t);var o;void 0!==a[0]&&(o=()=>{for(let l=a.length-1;-1<l;--l){let o=a[l].getAttribute('data-tbfullwidthvideo');if(o){let t=s.parseVideo(o),e=a[l].getElementsByClassName('tb_fullwidth_video')[0],i;e&&e.parentNode===a[l]&&a[l].removeChild(e),(i='youtube'===t.type?((l,a,s)=>{if(0==f&&s){s=s.toString();const d=b(l),r=new URL(a),n='tb_ytb_'+s;let t='https://www.youtube-nocookie.com/embed/'+s+'?modestbranding=1&playsinline=1&controls=0&showinfo=0&rel=0&disablekb&fs=0&version=3&allowfullscreen=false&wmode=transparent&iv_load_policy=3&playerapiid='+n+'&playlist='+s,e=640,i=360,o=!1;if(d.loop&&(t+='&loop=1'),!1!==d.autoplay&&(t+='&autoplay=1',d.mute=!0,o=!0),!0===d.mute&&(t+='&mute=1'),r){const m=r.searchParams.get('t'),h=r.searchParams.get('w'),c=r.searchParams.get('h');m&&(t+='&start='+parseInt(m)),h&&(e=h),c&&(i=c)}const u=v(n,t,'ytb',o),p=u.firstChild;return p.style.minHeight=100*parseFloat(i/e)+'vw',p.style.minWidth=100*parseFloat(e/i)+'vh',p.addEventListener('load',function(){this.parentNode.classList.remove('tf_lazy')},{passive:!0,once:!0}),u}})(a[l],o,t.id):'vimeo'===t.type?((t,e,i)=>{const o=b(t),a='tb_vimeo_'+i,l=new URL(e);let s='https://player.vimeo.com/video/'+i+'?api=1&byline=0&autopause=0&portrait=0&title=0&badge=0&controls=0&playsinline=1&callback=tb_vimeo&player_id='+a,d=!1;o.loop&&(s+='&loop=1'),!1!==o.autoplay&&(s+='&autoplay=1',o.mute=!0,d=!0),!0===o.mute&&(s+='&muted=1'),l.hash&&0===l.hash.indexOf('#t=')&&(s+=l.hash);const r=v(a,s,'vimeo',d),n=r.firstChild,u=t=>{if(-1!==t.origin.indexOf('player.vimeo.com')&&n&&n.contentWindow){const e=JSON.parse(t.data);if(a===e.player_id)if('ready'===e.event){const i='https://player.vimeo.com';n.contentWindow.postMessage(JSON.stringify({method:'getVideoWidth'}),i),n.contentWindow.postMessage(JSON.stringify({method:'getVideoHeight'}),i)}else if('getVideoWidth'===e.method||'getVideoHeight'===e.method){'getVideoWidth'===e.method?n.setAttribute('width',e.value):n.setAttribute('height',e.value);const o=n.getAttribute('width'),l=n.getAttribute('height');l&&o&&(window.removeEventListener('message',u,{passive:!0}),n.style.minHeight=100*parseFloat(l/o)+'vw',n.style.minWidth=100*parseFloat(o/l)+'vh',n.parentNode.classList.remove('tf_lazy'))}}};return window.addEventListener('message',u,{passive:!0}),r})(a[l],o,t.id):((t,e)=>{if(0==f||'play'===t.getAttribute('data-playonmobile')){const i=1==f?{loop:'unloop'!==t.getAttribute('data-unloopvideo'),mute:!0}:b(t),o=d.createElement('div'),l=d.createElement('video');return o.className='tb_fullwidth_video tb_local_video tf_abs tf_w tf_h',l.className='tf_w tf_h',l.setAttribute('type','video/'+e.split('.').pop().split('?')[0]),l.preload='auto','no'===t.dataset.autoplay?i.autoplay=!1:l.setAttribute('data-autoplay',!0),l.setAttribute('webkit-playsinline',1),l.setAttribute('playsinline',!0),l.src=e,!1!==i.autoplay&&(l.autoplay=!0,i.mute=!0),!0===i.mute&&(l.muted=!0),!0===i.loop&&(l.loop=!0),o.appendChild(l),o}})(a[l],o))&&(a[l].insertBefore(i,a[l].firstChild),s.trigger('tb_fullwidth_video_added',[a[l]]))}}},s.cssLazy.tb_fullwidth_video?o():s.LoadCss(ThemifyBuilderModuleJs.cssUrl+'fullwidthvideo.css',null,null,null,()=>{s.cssLazy.tb_fullwidth_video=!0,o()}))})})(Themify,document);