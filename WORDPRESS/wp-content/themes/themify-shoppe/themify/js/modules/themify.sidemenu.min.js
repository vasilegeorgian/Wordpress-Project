(i=>{'use strict';const n={panel:'#mobile-menu',close:'',side:'right',hasOverlay:!0,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null},l=[];let a=null;function o(e,s){this.element=e,!s.panel&&e.hasAttribute('href')&&(s.panel=e.getAttribute('href'),s.panel&&'#'!==s.panel||(s.panel=n.panel)),this.settings=Object.assign({},n,s),this.panelVisible=!1;const t={'#':'','.':'',' ':'-'};this.panelCleanName=this.settings.panel.replace(/#|\.|\s/g,e=>t[e]),this.init()}o.prototype={init(){const t=this;if(null===a&&!0===this.settings.hasOverlay&&((a=document.createElement('div')).className='body-overlay',a.style.display='none',a.addEventListener('click',function(){for(var e=l.length-1;-1<e;--e)l[e].hidePanel()},{passive:!0}),i.body[0].appendChild(a),a.style.display=''),this.element.addEventListener('click',function(e){if(e.preventDefault(),t.panelVisible)t.hidePanel();else if(t.showPanel(),!e.screenX||!e.screenY){const s=document.querySelector(t.settings.panel+' a');null!==s&&s.focus()}}),''!==t.settings.close){const e=document.querySelector(t.settings.close);null!==e&&e.addEventListener('click',function(e){e.preventDefault(),t.hidePanel()})}},showPanel(){if(!1===this.panelVisible){i.trigger('tf_fixed_header_remove_revelaing');const e=this.settings.panel,s=this,t=document.querySelector(e);t.style.display='block',setTimeout(()=>{this.settings.beforeShow&&this.settings.beforeShow.call(this),!1===this.panelVisible&&(null!==t&&(t.addEventListener('transitionend',()=>{s.settings.afterShow&&s.settings.afterShow.call(s),i.trigger('sidemenushow.themify',[e,s.settings.side,s])},{passive:!0,once:!0}),t.classList.remove('sidemenu-off'),t.classList.add('sidemenu-on')),i.body[0].classList.add(s.panelCleanName+'-visible','sidemenu-'+s.settings.side),null!==a&&a.classList.add('body-overlay-on'),this.panelVisible=!0)},5)}},hidePanel(e){if(!0===this.panelVisible){const s=document.querySelector(this.settings.panel);this.settings.beforeHide&&this.settings.beforeHide.call(this),null!==s&&(s.addEventListener('transitionend',function(){this.style.display=''},{passive:!0,once:!0}),s.classList.remove('sidemenu-on'),s.classList.add('sidemenu-off')),i.body[0].classList.remove(this.panelCleanName+'-visible'),e!==this.settings.side&&i.body[0].classList.remove('sidemenu-'+this.settings.side),this.settings.afterHide&&this.settings.afterHide.call(this),i.trigger('sidemenuhide.themify',[this.settings.panel]),null!==a&&a.classList.remove('body-overlay-on'),this.panelVisible=!1}}},i.on('tf_sidemenu_init',(s,t,e)=>{s instanceof jQuery?s=s.get():void 0===s.length&&(s=[s]);for(let e=s.length-1;-1<e;--e)l.push(new o(s[e],t));e&&e()}).on('tf_side_menu_hide_all',()=>{for(let e=l.length-1;-1<e;--e)l[e].hidePanel()}).body[0].classList.add('sidemenu-active'),'undefined'!=typeof themify_vars&&i.on('tfsmartresize',e=>{e&&e.w!==i.w&&e.w>themify_vars.menu_point&&i.trigger('tf_side_menu_hide_all')})})(Themify);