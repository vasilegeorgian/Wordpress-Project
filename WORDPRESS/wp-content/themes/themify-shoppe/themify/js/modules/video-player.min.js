((X,O)=>{'use strict';let t=!1;const R=X.isTouch?window.PointerEvent?'pointerdown':'touchstart':'click',j=/iPhone|iPad|iPod|Mac OS/i.test(window.navigator.userAgent),s='tf_video_',B=e=>{e=1/0===e?0:e;const t=new Date(1e3*e).toISOString().substr(11,8).split(':');return'00'===t[0]&&t.splice(0,1),t.join(':')},W=e=>{try{return e.requestFullscreen?e.requestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.webkitrequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullscreen?e.mozRequestFullScreen():void 0}catch(e){return console.error(e),!1}},H=()=>{try{return O.exitFullscreen?O.exitFullscreen():O.webkitExitFullscreen||O.webkitExitFullscreen?O.webkitExitFullscreen():O.mozCancelFullScreen?O.mozCancelFullScreen():!!O.msExitFullscreen&&O.msExitFullscreen()}catch(e){return console.error(e),!1}},K=e=>O.exitFullscreen?'':O.webkitExitFullscreen||e.webkitSupportsFullscreen?'webkit':O.mozCancelFullScreen?'moz':!!O.msExitFullscreen&&'ms',Q=e=>{const t=K(e);return!1!==t&&(e.hasOwnProperty('webkitDisplayingFullscreen')?e.webkitDisplayingFullscreen:''===t?O.fullscreenElement:O[t+'FullscreenElement'])},U=(e,t)=>{const n='http://www.w3.org/2000/svg',i=O.createElementNS(n,'use'),a=O.createElementNS(n,'svg');return e='tf-'+e,t=t?e+' '+t:e,a.setAttribute('class','tf_fa '+t),i.setAttributeNS(null,'href','#'+e),a.appendChild(i),a},Y=e=>{const i=s+e+'=';for(let t=O.cookie.split(';'),n=t.length-1;-1<n;--n){let e=t[n];for(;' '===e[0];)e=e.substring(1,e.length);if(0===e.indexOf(i))return e.substring(i.length,e.length)}return null},G=(e,t,n)=>{let i='';if(e=s+e,n){const a=new Date;a.setTime(a.getTime()+864e5*n),i=';expires='+a.toUTCString()}O.cookie=e+'='+(t||'')+i+'; path=/'},J=e=>X.hash(e.currentSrc.split('.').slice(0,-1).join('.')),a=n=>{const e=O.createDocumentFragment(),i=n.parentNode,t=O.createElement('div'),a=parseFloat(Y(J(n)))||0,s=O.createElement('button'),l=i.classList,r=function(e){l.add('tf_video_waiting');const t='seeking'===e.type?'seeked':'playing';this.addEventListener(t,()=>{l.remove('tf_video_waiting')},{passive:!0,once:!0})};let d=!1,o;t.className='tf_loader tf_abs_c',s.className='tf_video_play tf_big_video_play tf_abs_c',s.appendChild(U('fas-undo-alt','tf_hide')),i.tabIndex=0,s.type='button',i.addEventListener(R,function(e){const t=e.target.closest('.tf_video_seek');e.stopImmediatePropagation(),n.paused||!1===d||!X.isTouch||!t&&this.classList.contains('tf_video_touched')?(this.classList.remove('tf_video_touched'),n.paused||!1===d?(!1===d&&(d=!0,'desktop'!==X.device&&(n.muted=!0)),n.play()):n.pause()):(l.add('tf_video_touched'),l.remove('tf_hide_controls'),o&&clearTimeout(o),o=setTimeout(()=>{l.remove('tf_video_touched')},2500),t&&(n.currentTime+=t.classList.contains('tf_video_seek_left')?-15:15))},{passive:!0}),n.addEventListener('seeking',r,{passive:!0}),n.addEventListener('waiting',r,{passive:!0}),n.addEventListener('emptied',r,{passive:!0}),n.addEventListener('pause',function(){l.remove('tf_video_is_playing')},{passive:!0}),n.addEventListener('play',function(){l.add('tf_video_is_playing');for(let e=O.getElementsByTagName('video'),t=e.length-1;-1<t;--t)e[t]===this||e[t].paused||!0===e[t].muted||e[t].pause()},{passive:!0}),n.addEventListener('playing',function(){l.remove('tf_video_ended')},{passive:!0}),n.addEventListener('ended',function(){l.add('tf_video_ended')},{passive:!0}),n.hasAttribute('data-hide-controls')||e.appendChild((s=>{const e=O.createDocumentFragment(),i=K(s),t=J(s),n=Y('vol_'+t)||-1,a=O.createElement('div'),l=s.parentNode,r=O.createElement('div'),d=O.createElement('div'),o=O.createElement('div'),c=O.createElement('div'),u=O.createElement('div'),p=O.createElement('div'),f=O.createElement('div'),v=O.createElement('div'),_=O.createElement('div'),m=O.createElement('div'),h=O.createElement('button'),E=O.createElement('button'),b=O.createElement('button'),g=O.createElement('button'),w=O.createElement('button'),y=O.createElement('input'),C=O.createElement('input'),L=!1===j||'mobile'!==X.device,q=function(){try{s.webkitSupportsPresentationMode?s.webkitSetPresentationMode('picture-in-picture'===s.webkitPresentationMode?'inline':'picture-in-picture'):(Q(s)&&H(),s!==O.pictureInPictureElement?s.requestPictureInPicture():O.exitPictureInPicture())}catch(e){console.error(e)}};let k=!1,N=!1,F=!0;if(a.className='tf_video_wrap tf_w tf_mw tf_box',v.className='tf_play_wrap',f.className='tf_video_controls',r.className='tf_video_progress_wrap tf_rel tf_textl',d.className='tf_video_progress_loaded tf_w tf_h tf_abs',o.className='tf_video_progress_current tf_w tf_h tf_abs',y.className='tf_video_progress_range tf_h tf_abs',y.value=0,y.type='range',y.min=0,y.max=100,E.className='tf_video_play',E.appendChild(U('fas-undo-alt','tf_hide')),-1!==n&&(n?s.volume=n:s.muted=0),h.type=E.type=b.type=g.type=w.type='button',g.className='tf_video_seek tf_video_seek_left tf_abs',w.className='tf_video_seek tf_video_seek_right tf_abs',_.className='tf_video_current_time',m.className='tf_video_total_time',c.className='tf_video_hover tf_abs tf_hide tf_box tf_textc',b.className='tf_video_fullscreen',_.textContent=B(s.currentTime),m.textContent=B(s.duration),a.addEventListener(R,e=>{e.stopPropagation()},{passive:!0}),E.addEventListener(R,function(e){e.stopPropagation(),s.paused||!1===k?(!1===k&&(k=!0,'desktop'!==X.device&&(s.muted=!0)),s.play()):s.pause()},{passive:!0}),X.isTouch){if(!0===j){const x=window.navigator.userAgent,M=parseFloat(x.substr(x.indexOf('OS ')+3,4).replace('_','.'));if(M<13.5){const T=function(e){const t='touchstart'===e.type?e.touches[0]||e.changedTouches[0]:e,n=this.getElementsByTagName('input')[0],i=this.getBoundingClientRect(),a=n.classList.contains('tf_video_volumn_range')?(t.clientY-i.top)/i.height:(t.clientX-i.left)/i.width;n.value=parseInt(100*a),X.triggerEvent(n,'input'),X.triggerEvent(n,'change')};r.addEventListener(R,T,{passive:!0}),1==L&&p.addEventListener(R,T,{passive:!0})}}}else r.addEventListener('mouseenter',function(e){if(!isNaN(s.duration)){c.classList.remove('tf_hide');const n=this.clientWidth,i=parseFloat(c.clientWidth/2),a=s.duration,t=function(e){const t=void 0!==e.layerX?e.layerX:e.offsetX;0<t-i&&t<=n&&(c.style.transform='translateX('+(t-i)+'px)',!1===N&&(c.textContent=B(parseFloat(t/n)*a)))};this.addEventListener('mouseleave',function(){c.classList.add('tf_hide'),this.removeEventListener('mousemove',t,{passive:!0})},{passive:!0,once:!0}),this.addEventListener('mousemove',t,{passive:!0})}},{passive:!0});if(y.addEventListener('input',function(e){if(e.preventDefault(),!isNaN(s.duration)){s.paused||!0!==F||s.pause(),N=!0;const t=parseInt(this.value),n=100===t?s.duration-1:parseFloat(t*s.duration/100).toFixed(4);s.currentTime=n,X.isTouch||(c.textContent=B(n))}}),y.addEventListener('change',function(e){e.preventDefault(),isNaN(s.duration)||(N=F=!1,s.paused&&s.play().then(e=>{F=!0}).catch(e=>{F=!0}))}),s.addEventListener('progress',function(){0<this.buffered.length&&(d.style.transform='scaleX('+parseFloat(this.buffered.end(0)/this.duration).toFixed(4)+')')},{passive:!0}),s.addEventListener('durationchange',function(){m.textContent=B(this.duration)},{passive:!0}),s.addEventListener('timeupdate',function(){if(!isNaN(this.duration)){_.textContent=B(this.currentTime);const e=parseFloat(this.currentTime/s.duration);o.style.transform='scaleX('+e.toFixed(4)+')',!1===N&&(y.value=parseInt(100*e)),G(t,this.currentTime,30)}},{passive:!0}),!1!==i){let t=!1,n=!1;const P=()=>{S(!0),A()},S=e=>{!0===t||!0===e?(t=!1,parentCl.remove('tf_hide_controls')):(t=!0,parentCl.add('tf_hide_controls'))},A=()=>{n&&clearTimeout(n),n=setTimeout(S,3e3)},I=function(e){const t=(e.touches?e.touches[0]:e).target;if('dblclick'!==e.type||t&&!t.closest('.tf_video_wrap'))if(e.preventDefault(),Q(s))H();else{const n=()=>{const e=W(l);e||W(s)};O.pictureInPictureElement||'picture-in-picture'===s.webkitPresentationMode?(q(),setTimeout(n,80)):n()}};b.addEventListener(R,I),X.isTouch||l.addEventListener('dblclick',I),l.addEventListener(i+'fullscreenchange',function(e){Q(s)?(parentCl.add('tf_is_fullscreen'),l.addEventListener('mousemove',P,{passive:!0}),s.addEventListener('pause',P,{passive:!0}),A()):(parentCl.remove('tf_is_fullscreen','tf_hide_controls'),n&&clearTimeout(n),s.removeEventListener('pause',P,{passive:!0}),l.removeEventListener('mousemove',P,{passive:!0}))},{passive:!0})}else b.className+=' tf_fullscreen_disabled tf_play_disabled';if(b.appendChild(U('fas-expand')),r.appendChild(d),r.appendChild(y),r.appendChild(o),r.appendChild(c),s.hasAttribute('data-download')){const z=O.createElement('a');z.setAttribute('download',''),z.href=s.src,z.className='tf_video_download',z.appendChild(U('fas-download')),f.appendChild(z)}if(1==L&&(C.addEventListener('input',function(e){e.preventDefault();const t=parseFloat(this.value/100).toFixed(3);s.volume=t,s.muted=!(0<t)}),s.addEventListener('volumechange',function(){!0===this.muted||0===this.volume?h.classList.add('tf_muted'):h.classList.remove('tf_muted'),G('vol_'+t,this.volume,120)},{passive:!0}),h.addEventListener(R,()=>{s.muted=!s.muted,s.muted||0!==s.volume||(C.value=50,X.triggerEvent(C,'input'))},{passive:!0}),h.appendChild(U('fas-volume-up','tf_abs_t')),h.appendChild(U('fas-volume-mute','tf_abs_t tf_h')),u.appendChild(h),C.min=0,C.max=100,C.type='range',C.value=-1<n?100*n:50,p.className='tf_video_volumn_inner',C.className='tf_video_volumn_range tf_h tf_overflow',u.className='tf_video_volumn_wrap tf_rel',h.className='tf_video_mute tf_rel tf_overflow',s.muted&&(h.className+=' tf_muted'),p.appendChild(C),u.appendChild(p),f.appendChild(u)),!s.hasAttribute('disablePictureInPicture')&&O.pictureInPictureEnabled){const D=O.createElement('button');D.addEventListener(R,q,{passive:!0}),D.className='tf_video_pip',s.addEventListener('enterpictureinpicture',()=>{parentCl.add('tf_is_pip')},{passive:!0}),s.addEventListener('leavepictureinpicture',()=>{parentCl.remove('tf_is_pip')},{passive:!0}),D.appendChild(U('fas-external-link-alt')),f.appendChild(D)}return f.appendChild(b),v.appendChild(E),a.appendChild(v),a.appendChild(_),a.appendChild(r),a.appendChild(m),a.appendChild(f),w.innerHTML=g.innerHTML='<span class="tf_abs_c">15</span>',w.appendChild(U('fas-redo-alt','tf_abs_c')),g.appendChild(U('fas-undo-alt','tf_abs_c')),e.appendChild(g),e.appendChild(w),e.appendChild(a),e})(n)),e.appendChild(s),e.appendChild(t),i.appendChild(e),window.WebKitPlaybackTargetAvailabilityEvent&&!n.hasAttribute('data-hide-controls')&&n.addEventListener('webkitplaybacktargetavailabilitychanged',e=>{if('available'===e.availability){const t=O.createElement('button');t.className='tf_video_airplay',t.addEventListener(R,()=>{n.webkitShowPlaybackTargetPicker()},{passive:!0}),t.appendChild(U('fas-airplay')),i.querySelector('.tf_video_fullscreen').before(t)}},{passive:!0,once:!0}),0<a&&a<n.duration&&(n.currentTime=a),n.autoplay&&l.add('tf_video_is_playing'),n.setAttribute('webkit-playsinline','1'),n.setAttribute('playsinline','1'),n.removeAttribute('controls'),l.remove('tf_lazy')};X.on('tf_video_init',e=>{!1===t&&(t=!0,X.fontAwesome(['tf-fas-volume-mute','tf-fas-volume-up','tf-fas-undo-alt','tf-fas-redo-alt','tf-fas-external-link-alt','tf-fas-airplay','tf-far-closed-captioning','tf-fas-expand'])),e instanceof jQuery?e=e.get():void 0===e.length&&(e=[e]);var i=e;for(let e=i.length-1;-1<e;--e){let t=i[e],n=t.parentNode;if(!n.classList.contains('tf_video_lazy')){let e=O.createElement('div');e.className='tf_video_lazy tf_w tf_h tf_box tf_rel tf_overflow tf_lazy',e.appendChild(t),n.appendChild(e)}4===t.readyState?a(t):X.requestIdleCallback(()=>{t.addEventListener('loadedmetadata',function(){a(this)},{passive:!0,once:!0}),t.setAttribute('preload','metadata'),!0===j&&t.load()},200)}})})(Themify,document);