(($,i,e)=>{'use strict';let a,n,t='click';e.isTouch&&(t+=' touchend');const l=(e,t)=>(/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]:e)['page'+t],r=(e,t)=>{const s=e.find('.sub-menu, .children').first(),o=e.find('> a .child-arrow');let i='open';!0===t?(s.css('visibility','visible').slideDown(),e.addClass('dropdown-open toggle-on'),o.removeClass('closed').addClass('open')):(s.slideUp(()=>{$(this).css('visibility','hidden')}),e.removeClass('dropdown-open toggle-on'),o.removeClass('open').addClass('closed'),i='close'),e.trigger('dropdown_'+i)};e.on('tf_dropdown_init',o=>{for(let s=(o=void 0===(o=o instanceof jQuery?o.get():o).length?[o]:o).length-1;-1<s;--s)if(!o[s].classList.contains('with-sub-arrow')){o[s].className+=' with-sub-arrow';let t=o[s].getElementsByClassName('menu-item-has-children');for(let e=t.length-1;-1<e;--e){let s=t[e].children;for(let t=s.length-1;-1<t;--t)if('A'===s[t].tagName&&!s[t].getElementsByClassName('child-arrow')[0]&&!s[t].classList.contains('themify_lightbox')){let e=i.createElement('span');e.className='child-arrow closed',s[t].appendChild(e)}}for(let e=(t=o[s].getElementsByClassName('page_item_has_children')).length-1;-1<e;--e){let s=t[e].children;for(let t=s.length-1;-1<t;--t)if('A'===s[t].tagName&&!s[t].getElementsByClassName('child-arrow')[0]&&!s[t].classList.contains('themify_lightbox')){let e=i.createElement('span');e.className='child-arrow closed',s[t].appendChild(e)}}}e.isTouch&&e.body.on('touchstart','.child-arrow, .with-sub-arrow a',e=>{e.stopPropagation(),a=l(e,'X'),n=l(e,'Y')}),e.body.on(t,'.child-arrow',function(e){if(e.stopPropagation(),'click'===e.type||Math.abs(l(e,'X')-a)<20&&Math.abs(l(e,'Y')-n)<20){const t=$(this).closest('li'),s=$(this).parents('.dropdown-open');$(this).closest('.with-sub-arrow').find('li.dropdown-open').not(s).each(function(){r($(this),!1)}),r(t,!t.hasClass('dropdown-open'))}return!1}).on(t,'.with-sub-arrow a',function(e){if(Math.abs(l(e,'X')-a)<20&&Math.abs(l(e,'Y')-n)<20&&'#'===$(this).attr('href'))return e.stopPropagation(),$(this).find('> .child-arrow').click(),!1})})})(jQuery,document,Themify);