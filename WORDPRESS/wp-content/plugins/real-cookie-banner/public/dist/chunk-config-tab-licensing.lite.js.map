{"version":3,"file":"chunk-config-tab-licensing.lite.js?ver=5e85950ce97d48f995ac","mappings":"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","sources":["webpack:///../../frontend-packages/react-cookie-banner-admin/src/components/common/learnMoreTag.tsx","webpack:///./src/public/ts/components/config/content.tsx","webpack:///./src/public/ts/components/config/licensing/consumer.tsx","webpack:///./src/public/ts/components/config/licensing/licensing.tsx"],"sourcesContent":["import _Tag from \"antd/es/tag\";\nimport { QuestionCircleFilled } from \"@ant-design/icons\";\nimport { useI18n } from \"../../contexts\";\n\nconst LearnMoreTag = ({\n  url,\n  style = undefined,\n  label\n}) => {\n  const {\n    __\n  } = useI18n();\n  const useStyle = {\n    cursor: \"pointer\",\n    ...style\n  };\n  return /*#__PURE__*/React.createElement(_Tag, {\n    style: useStyle,\n    onClick: () => window.open(url, \"_blank\")\n  }, /*#__PURE__*/React.createElement(QuestionCircleFilled, null), \" \", label || __(\"Learn more\"));\n};\n\nexport { LearnMoreTag };","const ConfigContent = ({\n  children,\n  maxWidth = \"auto\",\n  style = {}\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rcb-config-content\",\n    style: {\n      maxWidth: maxWidth === \"fixed\" ? 1300 : maxWidth,\n      ...style\n    }\n  }, children);\n};\n\nexport { ConfigContent };","import _Card from \"antd/es/card\";\nimport _Space from \"antd/es/space\";\nimport _Form from \"antd/es/form\";\nimport _Avatar from \"antd/es/avatar\";\nimport { useCallback, useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { useStores as useRpmStores, PluginUpdateEmbed } from \"@devowl-wp/real-product-manager-wp-client\";\nimport { useStores } from \"../../../store\";\nimport { _i, __ } from \"../../../utils\";\nimport { refreshQueue } from \"@devowl-wp/real-queue\";\nimport { LearnMoreTag } from \"@devowl-wp/react-cookie-banner-admin\";\nconst ConfigLicensingConsumer = observer(({\n  withinModal = false\n}) => {\n  const {\n    pluginUpdateStore: {\n      pluginUpdates\n    }\n  } = useRpmStores();\n  const {\n    optionStore,\n    checklistStore\n  } = useStores();\n  const {\n    slug,\n    others: {\n      isPro,\n      showLicenseFormImmediate\n    },\n    publicUrl\n  } = optionStore;\n  const pluginUpdate = pluginUpdates.get(slug);\n  const handleLicenseUpdated = useCallback(() => {\n    checklistStore.fetchChecklist();\n    refreshQueue(); // When form is shown directly after first usage, return to dashboard\n\n    optionStore.setShowLicenseFormImmediate(false, true);\n  }, [checklistStore, optionStore]);\n  const handleLicenseDeactivated = useCallback(() => {\n    checklistStore.fetchChecklist(); // When form is shown directly after first usage, return to dashboard\n\n    optionStore.setShowLicenseFormImmediate(false, false);\n  }, [checklistStore, optionStore]);\n  const handleLicenseSkip = useCallback(() => {\n    optionStore.setShowLicenseFormImmediate(false, false);\n    pluginUpdate.skip();\n  }, [pluginUpdate, optionStore]); // Automatically skip if form already interacted (e.g. browser back cache issue)\n\n  useEffect(() => {\n    if (showLicenseFormImmediate && pluginUpdate !== null && pluginUpdate !== void 0 && pluginUpdate.hasInteractedWithFormOnce) {\n      handleLicenseSkip();\n    }\n  }, [pluginUpdate, showLicenseFormImmediate, handleLicenseSkip]);\n\n  const freeVersionParagraph = _i(__(\"Before we start configuring your cookie banner, you can {{strong}}obtain your free license to enjoy all the benefits{{/strong}} of the free version of Real Cookie Banner. The cookies are already waiting for you. Get started now!\"), {\n    strong: /*#__PURE__*/React.createElement(\"strong\", null)\n  });\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, showLicenseFormImmediate && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: 650,\n      textAlign: \"center\",\n      margin: \"0 auto\"\n    }\n  }, !withinModal && /*#__PURE__*/React.createElement(_Avatar, {\n    src: \"\".concat(publicUrl, \"images/logos/real-cookie-banner.svg\"),\n    shape: \"square\",\n    size: 130,\n    style: {\n      backgroundColor: \"white\",\n      padding: 25,\n      borderRadius: 999,\n      marginBottom: 10\n    }\n  }), !withinModal && !isPro && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: 15,\n      margin: \"0 auto 20px\"\n    }\n  }, freeVersionParagraph)), /*#__PURE__*/React.createElement(_Card, {\n    title: withinModal || !pluginUpdate ? undefined : /*#__PURE__*/React.createElement(React.Fragment, null, isPro || pluginUpdate.isLicensed ? __(\"License activation\") : __(\"Get your free license\"), \" \", !isPro && !showLicenseFormImmediate && /*#__PURE__*/React.createElement(LearnMoreTag, {\n      url: __(\"https://devowl.io/knowledge-base/real-cookie-banner-upgrade-free-to-pro-version/\"),\n      label: __(\"Upgrade to PRO version\")\n    })),\n    bordered: !withinModal\n  }, /*#__PURE__*/React.createElement(_Space, {\n    direction: \"vertical\",\n    size: \"large\"\n  }, withinModal && !isPro && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    style: {\n      fontWeight: \"bold\"\n    }\n  }, freeVersionParagraph), /*#__PURE__*/React.createElement(PluginUpdateEmbed, {\n    formProps: {\n      onSave: handleLicenseUpdated,\n      // Skip remote errors and move to dashboard immediately\n      onFailure: showLicenseFormImmediate && !isPro ? handleLicenseSkip : undefined,\n      footer: /*#__PURE__*/React.createElement(_Form.Item, {\n        style: {\n          margin: \"25px 0 0\",\n          textAlign: showLicenseFormImmediate ? \"center\" : undefined\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"button button-primary\",\n        value: showLicenseFormImmediate ? isPro ? __(\"Activate license & continue\") : __(\"Activate free license & Continue\") : __(\"Save\")\n      }))\n    },\n    listProps: {\n      onDeactivate: handleLicenseDeactivated\n    },\n    slug: slug\n  }))), pluginUpdate && showLicenseFormImmediate && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginBottom: 20,\n      marginTop: withinModal ? 0 : 20\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"button-link\",\n    onClick: handleLicenseSkip\n  }, isPro ? __(\"Continue without regular updates and without any support\") : __(\"Continue without any support and without e.g. discount announcements\"))));\n});\nexport { ConfigLicensingConsumer };","import { observer } from \"mobx-react\";\nimport { Provider } from \"@devowl-wp/real-product-manager-wp-client\";\nimport { ConfigLicensingConsumer } from \".\";\nimport { ConfigContent } from \"../..\";\nconst ConfigLicensing = observer(() => {\n  return /*#__PURE__*/React.createElement(ConfigContent, {\n    maxWidth: 800,\n    style: {\n      margin: \"auto\"\n    }\n  }, /*#__PURE__*/React.createElement(Provider, null, /*#__PURE__*/React.createElement(ConfigLicensingConsumer, null)));\n});\nexport { ConfigLicensing };"],"names":["LearnMoreTag","url","style","label","__","useStyle","cursor","React","createElement","onClick","window","open","ConfigContent","children","maxWidth","className","ConfigLicensingConsumer","withinModal","pluginUpdateStore","pluginUpdates","optionStore","checklistStore","slug","others","isPro","showLicenseFormImmediate","publicUrl","pluginUpdate","get","handleLicenseUpdated","useCallback","fetchChecklist","refreshQueue","setShowLicenseFormImmediate","handleLicenseDeactivated","handleLicenseSkip","skip","useEffect","hasInteractedWithFormOnce","freeVersionParagraph","_i","strong","Fragment","textAlign","margin","src","concat","shape","size","backgroundColor","padding","borderRadius","marginBottom","fontSize","title","undefined","isLicensed","bordered","direction","fontWeight","PluginUpdateEmbed","formProps","onSave","onFailure","footer","type","value","listProps","onDeactivate","marginTop","ConfigLicensing","Provider"],"sourceRoot":""}